# 01 데이터 모델링의 개념 

### 데이터베이스 생명 주기 
```
요구사항 수집 및 분석 -> 설계 -> 구현 -> 운영 -> 감시 및 개선

데이터 베이스는 '구축-사용-개선-재구축' 의 순환 과정으로 이루어진다.
```
### 데이터 모델링 과정

#### 1. 요구 사항 수집 및 분석
```
실제 문서를 수집하고 분석한다. 문서는 기록으로 남기기위해 만드는 자료이기 때문에 데이터베이스관리의 우선 대상일 가능성이 높다.

담당자와의 인터뷰나 설문조사를 통해 담당자의 의도를 정확하게 파악해야 한다. 개발자가 잘 모르는 분야일 경우 업무에 대해 배운다는
생각으로 인터뷰 하듯 요구 사항을 도출한다.

비슷한 업무를 처리하는 기존의 데이터베이스를 분석한다.

요구사항에서 도출한 내용을 각 업무와 관련된 모든 부분에서 살펴본다. 일반적으로 한 가지 업무가 단독으로 처리되는 경우는 드물고
서로 연관성을 가지고 있기 때문이다.

사용자의 요구 사항은 대부분 모호하며 사용자마다 쓰는 용어도 다르기 때문에 모호성을 제고하고 최대한 구체적이고 명확하게 정리하자.
```
#### 2. 개념적 모델링
```
요구 사항을 수집하고 분석한 결과를 토대로 업무의 핵심적인 개념을 구분하고 전체적인 뼈대를 만든다.

설계자는 사용자의 요구 사항을 분석하여 가장 핵심적인 개체 (entity) 와 개체를 식별할 수 있는 핵심 속성(PK), 그리고 각 개체 간의
관계를 정의하여 데이터베이스화 할 수 있는 일반적인 개념 ER 다이어 그램으로 표현한다.

완성된 ER 다이어 그램으로 담당자의 요구 사항을 제대로 반영했는지 업무 처리 절차에 문제가 없었는지 등을 점검한다.
```
#### 3. 논리적 모델링
```
개념적 모델링에서 추출하지 않았던 상세 속성들을 모두 추출한다. 개념적 모델링 단계에서 핵심적인 속성만 추출했다면 논리적
모델링에서는 실제 필요한 모든 속성을 추출한다.

고객의 이름, 주소, 전화번호 같은 핵심 속성을 앞서 추출했다면 실제 마케팅 업무에 사용할 나이, 성별 등의 상세한 정보가 논리적
모델링에서 추출된다.

ex) 도서(도서번호(PK), 도서이름, 출판사, 도서단가)
    고객(고객번호(PK), 고객이름, 주소, 전화번호)
    주문(주문번호(PK), 고객번호(FK), 도서번호(FK), 주문금액, 주문일자)

  
정규화를 수행한다. (ch 7 에서 설명)
데이터의 표준화를 수행한다. (데이터 용어 사전과 도메인을 정의, 데이터의 형태 및 크기 등을 확정)
```
#### 4. 물리적 모델링
```
논리적 모델을 토대로 DBMS 의 특성에 맞게 저장 구조를 정의한다. (테이블 생성)

- 응답 시간(트랜잭션이 시작되어 종료될 때까지 걸리는 시간) 을 최소화 해야 한다.
- 얼마나 많은 트랜잭션을 동시에 발생시킬 수 있는지 검토해서 생성한다.
- 데이터가 저장될 공간을 효율적으로 배치한다. (저장될 데이터의 특성에 따른 저장 방법 결정 및 인덱스 설계)
```
## ER(Entity Relationship) 모델 

ERD 표기법은 https://gitmind.com/kr/erd-examples.html 그림을 참고한다. 

### 개체와 개체 타입
```
개체란? 사람, 사물, 장소, 개념 사건과 같이 유무형의 정보를 가지고 있는 독립적인 실체(축구의 이해, 축구의 역사) 를 의미한다.
개체는 비슷한 속성을 가진 개체 타입(도서) 을 구성하며, 개체 집합으로 묶인다. 

개체는 요구 사항을 통해 도출되며 일반적으로 요구 사항 중 명사인 경우가 많다. 도출된 개체들은 개체 집합으로 묶이고 공통된 속성을
추출하여 의미를 가장 잘 표현할수 있는 개체 타입으로 정의된다.
```
```
* 개체의 특징

유일한 식별자에 의해 식별할 수 있다. 꾸준한 관리가 필요하다. 두 개 이상 영속적으로 존재한다. 업무 프로세스에 이용된다.
반드시 자신의 특징을 나타내는 속성을 포함한다. 다른 개체와 최소 한 개 이상의 관계(relationship) 를 맺고 있다. ?
```
```
* 개체 타입의 유형

개체 타입은 강한 개체 타입(독립적 존재 가능) 과, 약한 개체 타입(상위 개체 타입을 필요) 으로 나뉜다. 예를 들면 데이터베이스에서
직원의 부양 가족은 직원이 존재 해야 존재할 수 있는 약한 개체 타입이다.
```
### 속성 (개체의 속성)
```
* 단순 속성과 복합 속성

단순 속성은 더 이상 분해가 불가능하고 복합 속성은 독립적인 의미를 가진 속성으로 분해할수 있다. 예를 들면 주소는 시와 동으로
분해할 수 있다.
```
```
* 단일 값 속성과 다중 값 속성

단일값 속성은 하나의 타원으로 표현, 다중 값 속성은 두 개의 타원으로 표현한다. 다중값 속성이란 값을 여러 개 가질 수 있는
속성을 의미한다 예를 들면 취미는 여러 개 가질 수 있다.
```
```
* 저장 속성과 유도 속성

저장속성으로 부터 유도할 수 있는 속성을 유도 속성이라고 한다. 예를 들면 생년 월일로부터 유도할 수 있는 나이 속성이 있다.
타원형 점선으로 표현한다.
```
```
참고로 식별자 값은 속성아래 밑줄을 그어 표시하며 약한 개체 식별자는 강한 개체의 속성 값을 가지고 점선으로 표시한다. 325 p
```
### 관계와 관계 타입의 유형
```
관계(relationship) 는 개체 사이의 연관성을 나타내는 개념. '고객이 도서를 구입한다' 라고 할 때 '고객' 개체 타입과 '도서' 개체
타입은 '구입한다' 라는 개념으로 연결되는데 이러한 개체 간의 연관성을 관계라고 한다.

관계 타입으로 개체 타입과 개체 타입 간의 연결 가능한 관계를 정의하고, 관계 집합으로 관계의 집합을 나타낼 수 있다.

주문(관계 타입)
1 번 주문, 2 번 주문 ... (각 주문은 관계가 되고 관계 집합으로 묶을 수 있다.) 326 그림 참고 

관계 타입은 마름모꼴로 표현한다.
```
#### 관계 타입의 유형
```
1 진 관계

개체타입 내에서 개체 자신과 관계를 맺는 경우로 학생 개체 타입내에서 각각의 개체 끼리 멘토링 관계를 맺는 경우를 생각하면 된다.
```
```
2 진 관계 

두 개의 계체가 관계를 맺는다. 학생 개체 타입과 학과 개체 타입은 소속이라는 관계를 맺는다.
```
```
3 진 관계 


```


